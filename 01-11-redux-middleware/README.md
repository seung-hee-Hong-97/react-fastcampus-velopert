# ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´

## ê°œìš”

-   ë¦¬ë•ìŠ¤ê°€ ì§€ë‹ˆëŠ” í•µì‹¬ ê¸°ëŠ¥ì´ë‹¤. (ë¦¬ë•ìŠ¤ì˜ ê½ƒ)
-   Context API, MobXì™€ ë¹„êµí–ˆì„ ë•Œ ì°¨ë³„í™”í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤.
-   ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì°¨ë¼ë¦¬ Context APIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤.
    -   ì™œëƒí•˜ë©´ êµ³ì´ ë¦¬ë•ìŠ¤ ì—†ì´ë„ Context APIë¡œë„ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹ˆê¹Œ.

## ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´

-   ì•¡ì…˜ â†’ ë¯¸ë“¤ì›¨ì–´ â†’ ë¦¬ë“€ì„œ â†’ ìŠ¤í† ì–´
    -   íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ì•¡ì…˜ì´ ì²˜ë¦¬ë˜ì§€ ì•Šë„ë¡ ë¯¸ë“¤ì›¨ì–´ ë‹¨ì—ì„œ ë¬´ì‹œí•  ìˆ˜ë„ ìˆë‹¤.
    -   ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ì•¡ì…˜ì´ ë¦¬ë“€ì„œì— ì „ë‹¬ë˜ë¯€ë¡œ íŠ¹ì • ì½”ë“œë¥¼ ì²¨ê°€í•  ìˆ˜ ìˆë‹¤.
        -   ex) ì•¡ì…˜ì˜ payloadê°’ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì½˜ì†”ì— ê°’ì„ ì¶œë ¥, ë˜ ë‹¤ë¥¸ ê°’ì„ ë§Œë“¤ì–´ì„œ dispatch ë“±...
-   ì£¼ë¡œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•  ë–„ ì‚¬ìš©í•œë‹¤.
    -   API ìš”ì²­í•˜ê¸°

### ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ ì‘ì„± ë°©ë²•

```js
const middleware = (store) => (next) => (action) => {};

function middleware(store) {
    // store ê°ì²´
    return function (next) {
        // nextëŠ” ë¯¸ë“¤ì›¨ì–´ì—ì„œ ì•¡ì…˜ì„ ë°›ì•„ì™”ì„ ë•Œ ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´ì— ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
        return function (action) {
            // ì•¡ì…˜ ê°ì²´
            // í•˜ê³  ì‹¶ì€ ì‘ì—…
        };
    };
}
```

### redux-thunk

-   **ì•¡ì…˜ ê°ì²´**ê°€ ì•„ë‹Œ **í•¨ìˆ˜**ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•  ìˆ˜ ìˆë‹¤.
-   ë¦¬ë•ìŠ¤ ì°½ì‹œìê°€ ì§ì ‘ ë§Œë“  ë¼ì´ë¸ŒëŸ¬ë¦¬

```js
// ì´ê²Œ ì •ë§ ì „ë¶€ë‹¤ ğŸ˜‚
const thunk = (store) => (next) => (action) =>
    typeof action === 'function' ? action(store.dispatch, store.getState) : next(action);

const myThink = () => (dispatch, getState) => {
    dispatch({ type: 'HELLO' });
    dispatch({ type: 'BYE' });
};
```

-   thunk í•¨ìˆ˜ì˜ ì˜ˆì‹œ

```js
const getComments = () => (dispatch, getState) => {
    /*
        ì´ ì•ˆì—ì„œëŠ” ì•¡ì…˜ì„ dispatchí•  ìˆ˜ ìˆê³ 
        getStateë¥¼ ìƒìš”í•˜ì—¬ í˜„ì¬ ìƒíƒœë¥¼ ì¡°íšŒí•  ìˆ˜ë„ ìˆë‹¤.
    */
    //ìš”ì²­ì´ ì‹œì‘ë˜ì—ˆìŒì„ ì•Œë¦¬ëŠ” ì•¡ì…˜
    dispatch({ type: 'GET_COMMENTS' });

    //ëŒ“ê¸€ì„ ì¡°íšŒí•˜ëŠ” í”„ë¼ë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” getCommentsê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì.
    api.getComments(id) // ìš”ì²­
        .then((comments) => dispatch({ type: 'GET_COMMENTS_SUCCESS', id, comments })) // ì„±ê³µ
        .catch((e) => dispatch({ type: 'GET_COMMENTS_ERROR', error: e })); // ì‹¤íŒ¨í•œ ê²½ìš°
};

// ì»´í¬ë„ŒíŠ¸ì—ì„œ ë””ìŠ¤íŒ¨ì¹˜
dispatch(getComments());
dispatch(myThunk());
```

-   thunk í•¨ìˆ˜ì˜ ì˜ˆì‹œ

```js
const getComments = () => (dispatch, getState) => {
    /*
        ì´ ì•ˆì—ì„œëŠ” ì•¡ì…˜ì„ dispatchí•  ìˆ˜ ìˆê³ 
        getStateë¥¼ ìƒìš”í•˜ì—¬ í˜„ì¬ ìƒíƒœë¥¼ ì¡°íšŒí•  ìˆ˜ë„ ìˆë‹¤.
    */
    //ìš”ì²­ì´ ì‹œì‘ë˜ì—ˆìŒì„ ì•Œë¦¬ëŠ” ì•¡ì…˜
    dispatch({ type: 'GET_COMMENTS' });

    //ëŒ“ê¸€ì„ ì¡°íšŒí•˜ëŠ” í”„ë¼ë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” getCommentsê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì.
    api.getComments(id) // ìš”ì²­
        .then((comments) => dispatch({ type: 'GET_COMMENTS_SUCCESS', id, comments })) // ì„±ê³µ
        .catch((e) => dispatch({ type: 'GET_COMMENTS_ERROR', error: e })); // ì‹¤íŒ¨í•œ ê²½ìš°
};

// ì»´í¬ë„ŒíŠ¸ì—ì„œ ë””ìŠ¤íŒ¨ì¹˜
dispatch(getComments());
dispatch(myThunk());
```

## ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ì˜ ì¢…ë¥˜

-   redux-thunk (âœ” íŠœí† ë¦¬ì–¼ì—ì„œ ë‹¤ë£° ë‚´ìš©)
-   redux-saga (âœ” íŠœí† ë¦¬ì–¼ì—ì„œ ë‹¤ë£° ë‚´ìš©)
-   redux-observable (Rx.jsë¥¼ ì•„ëŠ” ê²½ìš° redux-observableì„ ë°°ìš°ê¸° ìˆ˜ì›”í•˜ë‹¤.)
-   redux0promise-middleware (Promiseì— ê¸°ë°˜í•œ ë¯¸ë“¤ì›¨ì–´)

## ë‹¤ë£° ë‚´ìš©

-   ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ ì§ì ‘ ë§Œë“¤ê¸°
-   redux-logger ì‚¬ìš©í•˜ê¸°
-   redux-thunk ì‚¬ìš©í•˜ê¸°
-   redux-saga ì‚¬ìš©í•˜ê¸°

### redux-saga

-   redux-thunk ë‹¤ìŒìœ¼ë¡œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë¹„ë™ê¸° ì‘ì—… ê´€ë ¨ ë¯¸ë“¤ì›¨ì–´ì´ë‹¤.
-   redux-sagaëŠ” ì•¡ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ìˆë‹¤ê°€ íŠ¹ì • ì•¡ì…˜ì´ ë°œìƒí•˜ë©´ ê·¸ì— ë”°ë¼ íŠ¹ì • ì‘ì—…ì„ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
    -   íŠ¹ì • ì‘ì—…ì€ íŠ¹ì • ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì•¡ì…˜ì„ ì‹¤í–‰í•˜ê±°ë‚˜ ìƒíƒœë¥¼ ì¡°íšŒí•˜ëŠ” ë“±ì˜ ì‘ì—…ì´ í¬í•¨ëœë‹¤.
    -   ì˜ˆë¥¼ë“¤ì–´ ë¹„ë™ê¸° ì‘ì—…ì„ ì§„í–‰í•  ë–„ ê¸°ì¡´ ìš”ì²­ì„ ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤.
    -   redux-thunkëŠ” ì‚¬ìš©í•  ë•Œ í•¨ìˆ˜ íƒ€ì…ì˜ ê°’ì„ dispatchí•˜ëŠ”ë° redux-sagaì—ì„œëŠ” ìˆœìˆ˜ ì•¡ì…˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì´ì™€ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
-   ì›¹ ì†Œì¼“ì„ ì‚¬ìš©í•˜ë©´ Channelì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë”ìš± íš¨ìœ¨ì ìœ¼ë¡œ ì½”ë“œë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
-   ë¹„ë™ê¸° ì‘ì—…ì´ ì‹¤íŒ¨í–ˆì„ ë–„ ì¬ì‹œë„í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ë„ ìˆë‹¤.
-   redux-sagaëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `Generator` ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤.
    -   redux-sagaë¥¼ ì‚¬ìš©í•˜ê¸° ì´ì „ì— ì´ ë¬¸ë²•ì„ ì„ í–‰í•™ìŠµ
-   Generatorë€?
    -   í•¨ìˆ˜ì˜ íë¦„ì„ íŠ¹ì • êµ¬ê°„ì— ë©ˆì¶°ë†“ì•˜ë‹¤ê°€ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.
    -   ê²°ê´ê°’ì„ ì—¬ëŸ¬ ë²ˆ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤.
    -   ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ ëŠë‚Œ
    ```js
    function weirdFunction(){
        return 1;
        return 2;
        return 3;
        return 4;
        return 5;
    ```
    ```js
    function* generatorFunction(){
        console.log("ì•ˆë…•í•˜ì„¸ìš”?")
        yield 1;
        console.log("ì œë„ˆë ˆì´í„° í•¨ìˆ˜)
        yield 2;
        console.log("funciton *");
        yield 3;
        return 4;
    }
    ```
    ```js
    function* sumGenerator() {
        console.log('sumGeneratorê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!');
        let a = yield;
        console.log('a ê°’ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.');
        let b = yield;
        console.log('bê°’ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.');
        return a + b;
    }
    ```
    ```js
    function* infiniteAddGenerator() {
        let result = 0;
        while (true) {
            result += yield result;
        }
    }
    ```

## JSON Server

```
npx json-server ./data.json --port 4000
```
